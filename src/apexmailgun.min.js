var mailgun={quickPick:function(a,i){return"<a href=\"javascript:$('#"+a+"').val('"+i+"').focusout();\">"+i+"</a>"},get_suggestion_str:function(a,i,e,n){if(i){var r='<span class="mailgunSuccessIcon fa fa-check"/>';return e&&(r+=' <span class="mailgunSuggestion">(though did you mean '+mailgun.quickPick(a,e)+"?)</span>"),r}return e?'<span class="mailgunQuestionIcon fa fa-warning"/> <span class="mailgunSuggestion">Did you mean '+mailgun.quickPick(a,e)+"?</span>":'<span class="mailgunErrorIcon fa fa-close"/><span class="mailgunError">'+n+"</span>"},validation_in_progress:function(a,i){var e=$(a.target).attr("id"),n=e+"_result";apex.debug("apexmailgun: validation_in_progress "+n),$("#"+n).html("<img class='mailgunLoadingIcon' src='"+i+"ajax-loader.gif' height='16'/>"),apex.debug("trigger validationinprogress"),apex.jQuery("#"+e).trigger("validationinprogress")},validation_success:function(a,i,e){var n=$(i.target).attr("id"),r=n+"_result";apex.debug("apexmailgun: validation_success "+r),$("#"+r).html(mailgun.get_suggestion_str(n,a.is_valid,a.did_you_mean,e)),apex.debug("trigger validationsuccess"),apex.jQuery("#"+n).trigger("validationsuccess",{data:a})},validation_error:function(a,i){var e=$(i.target).attr("id"),n=e+"_result";apex.debug("apexmailgun: validation_error "+n),$("#"+n).html('<span class="mailgunErrorIcon fa fa-close"/> <span class="mailgunError">'+a+"</span>"),apex.debug("trigger validationerror"),apex.jQuery("#"+e).trigger("validationerror",{errorMessage:a})},on_change:function(a){var i=$(a.target).attr("id"),e=i+"_result";apex.debug("apexmailgun: on_change "+e+'="'+$("#"+i).val()+'"'),""==$("#"+i).val()&&(apex.debug("clearing result"),$("#"+e).html(""))},init:function(){var a=this,i=a.affectedElements,e=a.action.attribute01,n=a.action.attribute02,r=a.action.attribute03,t=a.action.attribute04;apex.debug("apexmailgun: affectedElements:"+i.length),apex.debug("apexmailgun: vApiKey="+e),apex.debug("apexmailgun: vFilePrefix="+n);for(var s=0;s<i.length;s++){var u=a.affectedElements.eq(s),g=$(u).attr("id");if("Y"==r){apex.debug("apexmailgun: adding result span "+g);var l=g+"_result";$(u).after("<span class='mailgunResult' id='"+l+"'></span>"),$("#"+g).change(function(a){mailgun.on_change(a)})}apex.debug("apexmailgun: applying mailgun validator "+g),$(u).mailgun_validator({api_key:e,in_progress:function(a){mailgun.validation_in_progress(a,n)},success:function(a,i){mailgun.validation_success(a,i,t)},error:function(a,i){mailgun.validation_error(a,i)}})}}};