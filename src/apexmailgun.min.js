var mailgun={quickPick:function(a,i){return"<a href=\"javascript:$('#"+a+"').val('"+i+"').focusout();\">"+i+"</a>"},get_suggestion_str:function(a,i,e,n){if(i){var t='<span class="mailgunSuccessIcon fa fa-check"/>';return e&&(t+=' <span class="mailgunSuggestion">(though did you mean '+mailgun.quickPick(a,e)+"?)</span>"),t}return e?'<span class="mailgunQuestionIcon fa fa-warning"/> <span class="mailgunSuggestion">Did you mean '+mailgun.quickPick(a,e)+"?</span>":'<span class="mailgunErrorIcon fa fa-close"/><span class="mailgunError">'+n+"</span>"},validation_in_progress:function(a,i){var e=$(a.target).attr("id"),n=e+"_result";apex.debug("apexmailgun: validation_in_progress "+n),$("#"+n).html("<img class='mailgunLoadingIcon' src='"+i+"ajax-loader.gif' height='16'/>"),apex.debug("trigger validationinprogress"),apex.jQuery("#"+e).trigger("validationinprogress")},validation_success:function(a,i,e){var n=$(i.target).attr("id"),t=n+"_result";apex.debug("apexmailgun: validation_success "+t),$("#"+t).html(mailgun.get_suggestion_str(n,a.is_valid,a.did_you_mean,e)),apex.debug("trigger validationsuccess"),apex.jQuery("#"+n).trigger("validationsuccess",{data:a})},validation_error:function(a,i){var e=$(i.target).attr("id"),n=e+"_result";apex.debug("apexmailgun: validation_error "+n),$("#"+n).html('<span class="mailgunErrorIcon fa fa-close"/> <span class="mailgunError">'+a+"</span>"),apex.debug("trigger validationerror"),apex.jQuery("#"+e).trigger("validationerror",{errorMessage:a})},on_change:function(a){var i=$(a.target).attr("id"),e=i+"_result";apex.debug("apexmailgun: on_change "+e+'="'+$("#"+i).val()+'"'),""==$("#"+i).val()&&(apex.debug("clearing result"),$("#"+e).html(""))},init:function(){var a=this.affectedElements,i=this.action.attribute01,e=this.action.attribute02,n=this.action.attribute03,t=this.action.attribute04;apex.debug("apexmailgun: affectedElements:"+a.length),apex.debug("apexmailgun: vApiKey="+i),apex.debug("apexmailgun: vFilePrefix="+e);for(var r=0;r<a.length;r++){var s=this.affectedElements.eq(r),u=$(s).attr("id");if("Y"==n){apex.debug("apexmailgun: adding result span "+u);var g=u+"_result";$(s).parent().after("<span class='mailgunResult' id='"+g+"'></span>"),$("#"+u).change(function(a){mailgun.on_change(a)})}apex.debug("apexmailgun: applying mailgun validator "+u),$(s).mailgun_validator({api_key:i,in_progress:function(a){mailgun.validation_in_progress(a,e)},success:function(a,i){mailgun.validation_success(a,i,t)},error:function(a,i){mailgun.validation_error(a,i)}})}}};