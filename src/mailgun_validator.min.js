!function(e){e.fn.mailgun_validator=function(r){return this.each((function(){var a=e(this);a.focusout((function(s){var u=a.val();u=e.trim(u),a.val(u),r.e=s,function(r,a,s){s.mailgunRequest&&(s.mailgunRequest.abort(),s.mailgunRequest=null);if(!r)return;a&&a.in_progress&&a.in_progress(a.e);if(s.mailgunLastSuccessReturn&&r==s.mailgunLastSuccessReturn.address)return void(a&&a.success&&a.success(s.mailgunLastSuccessReturn,a.e));var u=!1;r.length>512?u=a.msg_too_long||"Email address cannot have over 512 characters.":0==r.split("@").length-1?u=a.msg_ampersand_reqd||"Email address must include @.":1!=r.split("@").length-1&&(u=a.msg_ampersand_one_only||"Email address must contain only one @.");if(u)return void(a&&a.error?a.error(u,a.e):apex.debug.error(u));a&&null==a.api_key&&apex.debug.error("Mailgun API key must be supplied.");var n=setTimeout((function(){u="Error occurred, unable to validate address.",s.mailgunRequest&&(s.mailgunRequest.abort(),s.mailgunRequest=null),a&&a.error?a.error(u,a.e):apex.debug.error(u)}),a.timeout);s.mailgunRequest=e.ajax({type:"GET",url:"https://api.mailgun.net/v2/address/validate?callback=?",data:{address:r,api_key:a.api_key},dataType:"jsonp",crossDomain:!0,success:function(e,r){clearTimeout(n),s.mailgunLastSuccessReturn=e,a&&a.success&&a.success(e,a.e)},error:function(e,r,s){clearTimeout(n),u="Error occurred, unable to validate address.",a&&a.error?a.error(u,a.e):apex.debug.error(u)}})}(u,r,a)}))}))}}(jQuery);
//# sourceMappingURL=mailgun_validator.js.map